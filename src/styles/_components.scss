/**
 * Component Styles
 * Shared component styles using SCSS features
 */

@use 'variables' as *;
@use 'mixins' as *;

// ============================================
// Dynamic Form Component
// ============================================
.dynamic-form-container {
  width: 100%;
  max-width: $container-max-width-md;
  margin: $spacing-xl auto;
  padding: 0 $spacing-md;

  @include respond-below($breakpoint-sm) {
    margin: $spacing-md auto;
    padding: 0 $spacing-sm;
  }
}

.form-card {
  @include card-base;
  width: 100%;
  max-width: 100%;
  position: relative;
  z-index: 1;

  mat-card-header {
    @include card-header-gradient;

    @include respond-below($breakpoint-sm) {
      padding: $spacing-lg $spacing-lg $spacing-sm;
    }
  }

  mat-card-title {
    font-size: $font-size-xxxl;
    font-weight: $font-weight-medium;
    margin-bottom: 0;
    color: $mat-on-primary;

    @include respond-below($breakpoint-sm) {
      font-size: $font-size-xxl;
    }
  }

  mat-card-content {
    padding: $spacing-xl;

    @include respond-below($breakpoint-sm) {
      padding: $spacing-lg;
    }
  }
}

.dynamic-form {
  @include flex-column;
  gap: 1.75rem;

  @include respond-below($breakpoint-sm) {
    gap: $spacing-lg;
  }
}

.form-field {
  @include flex-column;
  width: 100%;
  min-width: 0; // Prevents flex items from overflowing

  mat-form-field {
    margin-bottom: 0;
  }

  > * {
    width: 100%;
  }

  // Radio group and checkbox styling
  .radio-field-container,
  .checkbox-container {
    margin-top: $spacing-sm;
  }

  mat-radio-group {
    @include flex-column;
    gap: 0.75rem;
  }

  mat-checkbox {
    display: block;
    margin: $spacing-sm 0;
  }

  // Additional styling for better visual consistency
  mat-form-field .mat-mdc-form-field-subscript-wrapper {
    margin-top: $spacing-sm;
  }
}

.field-error {
  mat-form-field {
    margin-bottom: 0;
  }
}

// ============================================
// Form Divider
// ============================================
.form-divider {
  margin: $spacing-xl 0 $spacing-lg;
  border-top-color: var(--mat-sys-outline-variant, $mat-outline-variant);
}

// ============================================
// Form Actions
// ============================================
.form-actions {
  @include flex-between;
  gap: $spacing-md;
  margin-top: $spacing-sm;
  padding-top: $spacing-md;

  @include respond-below($breakpoint-sm) {
    @include flex-column;
    gap: 0.75rem;
  }

  button {
    @include button-base;

    @include respond-below($breakpoint-sm) {
      @include button-full-width;
    }
  }
}

// ============================================
// Form Data Display
// ============================================
.form-data-display {
  @include display-container;

  @include respond-below($breakpoint-sm) {
    padding: $spacing-md;
  }

  h3 {
    margin-top: 0;
    margin-bottom: $spacing-md;
    font-size: $font-size-lg;
    font-weight: $font-weight-medium;
    color: var(--mat-sys-on-surface, $mat-on-surface);
  }

  pre {
    @include display-content;

    @include respond-below($breakpoint-sm) {
      padding: $spacing-md;
      font-size: 0.8rem;
    }
  }
}

// ============================================
// Form Errors Display
// ============================================
.form-errors-display {
  @include display-container(var(--mat-sys-error-container, $mat-error-container), var(--mat-error, $mat-error));

  h3 {
    margin-top: 0;
    margin-bottom: $spacing-md;
    font-size: $font-size-lg;
    font-weight: $font-weight-medium;
    color: var(--mat-sys-on-error-container, $mat-on-error-container);
  }

  pre {
    @include display-content;
    border-color: var(--mat-error, $mat-error);
  }
}

// ============================================
// No Config State
// ============================================
.no-config {
  width: 100%;
  max-width: $container-max-width-md;
  margin: $spacing-xl auto;
  padding: 0 $spacing-md;

  mat-card {
    text-align: center;
    padding: $spacing-xxl $spacing-xl;
    box-shadow: $shadow-md;
  }

  p {
    margin: 0;
    color: var(--mat-sys-on-surface-variant, $mat-on-surface-variant);
    font-size: $font-size-base;
  }
}

// ============================================
// Tablet View
// ============================================
@include respond-to(md) {
  .dynamic-form-container {
    max-width: $container-max-width-sm;
  }
}
